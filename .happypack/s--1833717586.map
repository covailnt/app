{"version":3,"sources":["src\\refire\\users.js"],"names":["initialized","handler","store","ref","database","on","_v","value","forEach","sn","push","val","id","key","dispatch","type","sort","a","b","date"],"mappings":";;;;;;;;AAAA;;;;;;AAEA,IAAIA,cAAc,KAAlB;AACA,IAAMC,UAAU,SAAVA,OAAU,CAACC,KAAD,EAAS;AACvB,MAAG,CAACF,WAAJ,EAAgB;AACdA,kBAAc,IAAd;AACA,QAAMG,MAAM,mBAASC,QAAT,GAAoBD,GAApB,CAAwB,OAAxB,CAAZ;AACAA,QAAIE,EAAJ,CAAO,OAAP,EAAgB,UAACC,EAAD,EAAM;AACpB,UAAIC,QAAQ,EAAZ;AACAD,SAAGE,OAAH,CAAW,UAACC,EAAD,EAAM;AACfF,cAAMG,IAAN,cAAeD,GAAGE,GAAH,EAAf,IAAyBC,IAAIH,GAAGI,GAAhC;AACD,OAFD;;AAIAX,YAAMY,QAAN,CAAe;AACbC,cAAM,WADO;AAEbR,eAAOA,MAAMS,IAAN,CAAW,UAACC,CAAD,EAAIC,CAAJ;AAAA,iBAChBD,EAAEE,IAAF,GAASD,EAAEC,IADK;AAAA,SAAX;AAFM,OAAf;AAMD,KAZD;AAaD;AACF,CAlBD;;kBAoBelB,O","file":"users.js","sourceRoot":"C:/Users/Ryan/Documents/dev/embark/covailnt","sourcesContent":["import firebase from './firebase'\n\nlet initialized = false\nconst handler = (store)=>{\n  if(!initialized){\n    initialized = true;\n    const ref = firebase.database().ref('users')\n    ref.on('value', (_v)=>{\n      let value = [];\n      _v.forEach((sn)=>{\n        value.push({...sn.val(), id: sn.key})\n      })\n      \n      store.dispatch({\n        type: 'SET_USERS',\n        value: value.sort((a, b)=>(\n          a.date > b.date\n        ))\n      })\n    })\n  }\n}\n\nexport default handler"]}